<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.2/jquery.validate.min.js"></script>

<h1>The Actual Form!</h1>

<p>
Hello {{username}}
</p>
<p>
<a href="/logout">Logout</a>
</p>

<div class="container">
  <h2>CVE Request</h2>
  <form action="/cveform/formsubmit" name="requestCVE" method="post">

    <label for="vendorName">Vendor Name</label>
    <input type="text" name="vendorName" id="vendorName" placeholder="Vendor"/>
    <br>

    <label for="productName">Product Name</label>
    <input type="text" name="productName" id="productName" placeholder="Product"/>
    <br>

    <label for="productVersion">Affected Version(s)</label>
    <input type="text" name="productVersion" id="productVersion" placeholder="Version"/>
    <br>

    <label for="vulnType">Vulnerability Type</label>
    <input type="text" name="vulnType" id="vulnType" placeholder="Vulnerability Type"/>
    <br>

    <label for="affectedComponent">Affected Component</label>
    <input type="text" name="affectedComponent" id="affectedComponent" placeholder="Affected Component"/>
    <br>

    <label for="attackVector">Attack Vector</label>
    <input type="text" name="attackVector" id="attackVector" placeholder="Attack Vector"/>
    <br>

    <label for="impact">Impact of Exploitation</label>
    <input type="text" name="impact" id="impact" placeholder="Impact"/>
    <br>

    <label for="credit">Discoverer/Credit</label>
    <input type="text" name="credit" id="credit" placeholder="Credit"/>
    <br>

    <label for="references">References</label>
    <input type="text" name="references" id="references" placeholder="References"/>
    <br>

    <label for="notes">Notes</label>
    <input type="text" name="notes" id="notes" placeholder="Notes"/>
    <br>

    <button type="submit">Get a CVE ID</button>

  </form>
</div>

<script>
// Wait for the DOM to be ready
$(function() {
  $("form[name='requestCVE']").validate({
    rules: {
      vendorName: "required",
      productName: "required",
      productVersion: "required",
    },
    messages: {
      vendorName: "Please enter a vendor name",
      productName: "Please enter a product name",
      productVersion: "Please enter a product version",
    },
    // Make sure the form is submitted to the destination defined
    // in the "action" attribute of the form when valid
    submitHandler: function(form) {
      form.submit();
    }
  });
});

</script>
